type Query {
  getUserTwitterFeed(handle: String!): User
}

type Subscription {
  subscribeToTweeterUser(handle: String!): User
    @aws_subscribe(mutations: ["createUserTweet", "deleteUserTweet"])
}

type Tweet {
  id : String!
  tweet: String!
  retweeted: Boolean!
  retweet_count: Int
  favorited: Boolean!
}

type Mutation {

  # Create a tweet for a user
  createUserTweet(
    handle: String!,
    tweet: String!
  ): User

  # Delete User Tweet
  deleteUserTweet(
    id: String!,
    handle: String
  ): User
}

type User {
  name: String!
  handle: String!
  location: String!
  description: String!
  followers_count: Int!
  friends_count: Int!
  favourites_count: Int!
  followers: [User]
  tweets(limit: Int=10, nextToken: String) : TweetConnection
}

type TweetConnection {
  items: [Tweet]
  nextToken:String
}

schema {
  query: Query
  mutation: Mutation
  subscription: Subscription
}